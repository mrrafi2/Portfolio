.codeEditor {
  width: 550px;
  max-width: calc(100% - 48px);
  background: linear-gradient(180deg, rgba(6,8,12,0.86), rgba(12,14,20,0.95));
  border-radius: 12px;
  box-shadow: 0 18px 50px rgba(2,8,20,0.6);
  color: #e6eef6;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,0.04);
  display: flex;
  flex-direction: column;
  transition: transform 240ms cubic-bezier(.2,.9,.2,1), box-shadow 240ms;
  margin: 0.5rem;
  position: relative;
}

/* expanded/focus mode */
.expandedEditor {
  width: calc(100% - 32px);
  max-width: 1100px;
  transform: translateY(-6px) scale(1.02);
  z-index: 80;
  box-shadow: 0 28px 90px rgba(2,8,20,0.72);
}

/* small copy flash */
.copied {
  outline: 2px solid rgba(0,200,255,0.12);
  box-shadow: 0 10px 30px rgba(0,212,255,0.06);
}

/* header */
.editorHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 12px;
  gap: 8px;
  border-bottom: 1px solid rgba(255,255,255,0.03);
}
.editorButtons { display: flex; gap: 6px; align-items: center; }
.editorBtn {
  width: 12px;
  height: 12px;
  border-radius: 999px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.45);
}

/* right controls */
.headerRight { display:flex; gap:8px; align-items:center; }
.copyBtn, .expandBtn {
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.04);
  color: var(--cosmic-white);
  padding: 6px 10px;
  border-radius: 8px;
  font-size: 0.86rem;
  cursor: pointer;
}

/* body */
.editorBody {
  display: flex;
  gap: 12px;
  padding: 12px;
  align-items: flex-start;
}

/* code area */
.codePre {
  flex: 1 1 60%;
  margin: 0;
  padding: 12px;
  font-family: 'JetBrains Mono', monospace;
  font-size: clamp(0.9rem, 1.6vw, 1rem);
  line-height: 1.5;
  background: transparent;
  color: #dbe9ff;
  overflow: auto;
  max-height: 400px;
  border-radius: 8px;
  white-space: pre;
  overflow-wrap: break-word; 
  word-break: break-all;
  max-width: 100%;
  white-space: pre-wrap;
}

/* single line wrapper */
.codeLine { display:block; padding: 0 2px; }

/* cursor */
.cursor {
  color: var(--cosmic-blue);
  font-weight: bold;
  animation: blink 900ms steps(1) infinite;
}

@keyframes blink { 0%,50%{opacity:1} 51%,100%{opacity:0} }

/* token colors (use module classnames) */
.tokenKeyword { color: #8ec6ff; font-weight:600; }
.tokenString { color: #ffd6a5; }
.tokenKey { color: #c9f29b; opacity: 0.95; }
.tokenNumber { color: #ffb3b3; }
.tokenPunc { color: rgba(255,255,255,0.45); }

/* skill rail */
.skillRail {
  flex: 0 0 200px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius: 10px;
  padding: 10px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  align-items: stretch;
  min-height: 120px;
  max-height: 400px;
  overflow: auto;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
}

.skillHeader { font-size: 0.82rem; color: rgba(255,255,255,0.65); margin-bottom: 6px; }
.skillList { display:flex; flex-wrap:wrap; gap:8px; align-items:flex-start; }

/* chip */
.skillChip {
  padding: 6px 10px;
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.04);
  color: #fff;
  border-radius: 999px;
  font-size: 0.78rem;
  cursor: default;
  transition: transform 160ms ease, box-shadow 160ms ease, background 160ms;
}
.skillChip:hover { transform: translateY(-3px) scale(1.03); }

/* active chip highlight (pulsing) */
.activeChip {
  background: linear-gradient(90deg, rgba(0,212,255,0.12), rgba(139,92,246,0.08));
  box-shadow: 0 8px 24px rgba(0,212,255,0.06);
  transform: translateY(-4px) scale(1.04);
  border-color: rgba(0,212,255,0.18);
  animation: pulseChip 1600ms ease-in-out infinite;
}
@keyframes pulseChip {
  0% { transform: translateY(-3px) scale(1.02); box-shadow: 0 6px 18px rgba(0,212,255,0.04); }
  50% { transform: translateY(-6px) scale(1.06); box-shadow: 0 18px 40px rgba(0,212,255,0.08); }
  100% { transform: translateY(-3px) scale(1.02); box-shadow: 0 6px 18px rgba(0,212,255,0.04); }
}

/* footer note */
.editorFooter { padding: 8px 12px; font-size: 0.78rem; color: rgba(255,255,255,0.55); }

@media (max-width: 880px) {
  .codeEditor { width: calc(100% - 28px); margin: 12px auto; }
  .editorBody { flex-direction: column; }
  .skillRail { width: 100%; flex: none; order: 2; max-height: 260px; }
  .codePre { max-height: 320px; width: 100%; }
}

@media (max-width: 420px) {
  .codeEditor { border-radius: 8px; padding: 6px; }
  .editorHeader { padding: 8px; }
  .codePre { font-size: 0.86rem; max-height: 360px; }
  .skillChip { font-size: 0.72rem; padding: 6px 8px; }
}